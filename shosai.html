<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>本文・詳細ページ</title>
    <link rel="stylesheet" href="shosai.css" />
    
</head>

<body>

    <header>質問表示詳細ページ</header>
    <p>質問に対する回答</p>

    <!-- 回答フォーム -->
    <div id="answer-container">
        <h2>回答</h2>
        <div id="answers-list">
            <!-- ここに回答が追加されます -->
        </div>
        <textarea id="new-answer" placeholder="回答を入力してください"></textarea>
        <button onclick="addAnswer()">回答を追加する</button>
    </div>

    <script>
        function addAnswer() {
            var answerText = document.getElementById("new-answer").value;
            if (answerText.trim() !== "") {
                var answerElement = document.createElement("div");
                answerElement.textContent = answerText;
                answerElement.classList.add("answer"); // 回答要素にクラスを追加
                document.getElementById("answers-list").appendChild(answerElement);
                document.getElementById("new-answer").value = "";
            }
        }
        // 回答要素をクリックした際の処理
document.getElementById("answers-list").addEventListener("click", function(event) {
    var answerElement = event.target;

    // クリックされた要素が回答要素であるかどうかを確認
    if (answerElement.classList.contains("answer")) {
        // 回答要素に削除ボタンが存在しない場合、削除ボタンを追加
        if (!answerElement.querySelector(".delete-button")) {
            var deleteButton = document.createElement("button");
            deleteButton.textContent = "削除";
            deleteButton.classList.add("delete-button");
            deleteButton.addEventListener("click", function() {
                answerElement.remove(); // 回答要素を削除
                deleteButton.remove(); // ボタンを削除
            });
            // 削除ボタンを回答要素の隣に追加
            answerElement.parentNode.insertBefore(deleteButton, answerElement.nextSibling);
        
        }
        
    }
});
    </script>
</body>

</html>